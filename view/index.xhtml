    <span id ="localclock"></span><br><br>
    <div class="roundbox">
      <table class="sortable" id="main">
	<caption>Conference List</caption>
	<thead>
	  <tr>
	    <th class="sorttable_nosort">Acronym
	    <th class="sorttable_nosort">Full Name
	    <th width="105pt" title="click to sort">Abstract
	    <th width="105pt" title="click to sort">Deadline
	    <th width="115pt" title="click to sort">Notification
	    <th class="sorttable_nosort">Address
	    <th align="center" width="90pt" class="sorttable_nosort" id="rightmost">Manage
	  </tr>
	</thead>
	<tbody>
<?r is_today_ok = false ?>
<?r Conference.order(:abstract).each do |c| ?>
<?r test_date = c.abstract.nil? ? c.deadline : c.abstract ?>
<?r if (not is_today_ok) and (test_date < Time.now ) ?>
<?r is_today_ok = true ?>
<?r today_str = Time.now.strftime("%Y-%m-%d") ?>
<tr class='today'>
  <td class='today'>Today</td>
  <td class='today'>Today</td>
  <td class='today'>#{today_str}</td>
  <td class='today'>#{today_str}</td>
  <td class='today'>#{today_str}</td>
  <td class='today'>Today</td>
  <td class='today'>Today</td>
</tr>
<?r end ?>
<tr>
  <td>#{a(c.acronym, c.url)}</td>
  <td title="#{c.cfp}">#{c.title}</td>
  <td align='center'>#{c.abstract.strftime("%Y-%m-%d") unless c.abstract.nil?}</td>
  <td align='center'>#{c.deadline.strftime("%Y-%m-%d")}</td>
  <td align='center'>#{c.notification.strftime("%Y-%m-%d")}</td>
  <td>#{c.address}</td>
  <td>#{a('Edit', '/conflist/edit', c.id)} | 
      <a href="javascript:checkDelete('#{@captcha_question}','#{c.id}')">Delete</a>
  </td>
</tr>
<?r end ?>
<?r if not is_today_ok ?>
<?r is_today_ok = true ?>
<?r today_str = Time.now.strftime("%Y-%m-%d") ?>
<tr class='today'>
  <td class='today'>Today</td>
  <td class='today'>Today</td>
  <td class='today'>#{today_str}</td>
  <td class='today'>#{today_str}</td>
  <td class='today'>#{today_str}</td>
  <td class='today'>Today</td>
  <td class='today'>Today</td>
</tr>
<?r end ?>
	</tbody>
      </table>
      <p align="right"> &nbsp;</p>
    </div>

  <div id="addButton" class="roundbox" onClick="toggleAdd('add', this)" title="Contribute a conference or workshop?">Add</div>

  <div id="add" style="display:none">
    <form method="post" action="/conflist/add" onSubmit="return checkForm(this);">
      <fieldset>
	<legend>Contribute a conference/workshop</legend>

	<table>
	  <tr>
	    <td>Acronym:</td> 
	    <td><input id="acronym" name="acronym" type="text" size="100" /></td>
	  </tr>
	  <tr>
	    <td>Full Name: </td>
	    <td><input id="title" name="title" type="text" size="100" /></td>
	  </tr>
	  <tr>
	    <td>URL:</td>
	    <td><input id="url" name="url" type="text" size="100" value="http://" /></td>
	  </tr>
	<tr>
	  <td>Abstract Due (optional):</td>
	  <td>
	    <input id="abstract" name="abstract" type="text" size="20" readonly="readonly" />
	    <img src="/conflist/images/calendar.jpg" id="abstract-trigger" />
	    <script>
	      Calendar.setup({
	      showTime   : true,
	      minuteStep : 1,
	      dateFormat : "%Y-%m-%d %H:%M",
	      trigger    : "abstract-trigger",
	      inputField : "abstract",
	      onSelect   : function () {this.hide()}
	      });
	    </script>
	  </td>
	</tr>
	<tr>
	  <td>Deadline:</td>
	  <td>
	    <input id="deadline" name="deadline" type="text" size="20" readonly="readonly" />
	    <img src="/conflist/images/calendar.jpg" id="deadline-trigger" />
	    <script>
	      Calendar.setup({
	      showTime   : true,
	      minuteStep : 1,
	      dateFormat : "%Y-%m-%d %H:%M",
	      trigger    : "deadline-trigger",
	      inputField : "deadline",
	      onSelect   : function () {this.hide()}
	      });
	    </script>
	  </td>
	</tr>
	<tr>
	  <td>Notification:</td>
	  <td>
	    <input id="notification" name="notification" type="text" size="20" readonly="readonly" />
	    <img src="/conflist/images/calendar.jpg" id="notification-trigger" />
	    <script>
	      Calendar.setup({
	      showTime   : true,
	      minuteStep : 1,
	      dateFormat : "%Y-%m-%d %H:%M",
	      trigger    : "notification-trigger",
	      inputField : "notification",
	      onSelect   : function () {this.hide()}
	      });
	    </script>
	  </td>
	</tr>
	<tr>
	  <td>Address:</td>
	  <td><input id="address" name="address" type="text" size="100" /></td>
	</tr>
	<tr>
	  <td>Call for Paper:</td>
	  <td><textarea name="cfp" cols=100 rows=10></textarea></td>
	</tr>
	<tr>
	  <td>What is:  </td>
	  <td>#{@captcha_question} = <input type="text" name="answer" /></td>
	</tr>
        <tr>
          <td></td>
          <td><input type="submit" /> <input type="reset" /></td>
        </tr>
	</table>
      </fieldset>
    </form>
  </div>
